<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8"/>
		<title>Alakzatszerkesztő (refaktorizált változat)</title>
		<link rel="stylesheet" href="graphics.css"/>

		<script src="injectorMain.js"></script>
		<script src="MyAudio.js"></script>
		<script src="App.js"></script>

		<script src="DOM-manipulation.js"></script>
		<script src="SvgLowLevel.js"></script>
		<script src="Figure.js"></script>
		<script src="CoordSysTransformer.js"></script>
		<script src="Bijection.js"></script>
		<script src="Board.js"></script>
		<script src="Eq.js"></script>

		<script src="BehaviorRunner.js"></script>
		<script src="Mock.js"></script>
		<script src="SvgLowLevelMock.js"></script>
		<script src="CoordSysTransformerMock.js"></script>
		<script src="BijectionMock.js"></script>
		<script src="FigureMock.js"></script>
		<script src="Behavior.js"></script>
		<script src="AppBehavior.js"></script>
		<script src="FigureBehavior.js"></script>
		<script src="BijectionBehavior.js"></script>

		<script src="math/geometry.js"></script>
		<script src="math/geometry-vector.js"></script>
		<script src="math/CoordSysTransformation.js"></script>
		<script src="math/geometry-polygon.js"></script>
		<script src="math/data-list.js"></script>
		<script src="math/data-hash.js"></script>
		<script src="math/graph.js"></script>
		<script src="math/math.js"></script>
	</head>
	<body>
		<h1>Alakzatszerkesztő (refaktorizált változat)</h1>
		<p>Forráskódja <a href="https://github.com/alignalghii/loosely-coupled-figure-editor" target="_blank">íme itt: Alakzatszerkesztő</a>.</p>

		<h2>Használata</h2>
		<ul>
			<li><em>Új alakzat beszúrása</em>: kattints az egér bal gombjával üres felületre: vagyis egérgomb le üres felületen, és egérgomb fel ugyanott.</li>
			<ul>
				<li>Azt, hogy milyen alakú és színű alakzat szúródjék be, a legördülő menüből választhatod ki. Ha mem választasz, akkor az előző beállítás marad életben (illetve induláskor az alapértelmezetten kiválasztódó menüpont).
				<li>A lenyomás mindenképp üres felületen történjék, a felengedés történhetik úgy is, hogy közben esetleg egy kicsit vonszolod az egeret (ez nem kötelező): az új alakzat a felengedés helyén fog megjelenni.</li>
				<li>Az sem gond, ha a felengedés egy korább létező alakzat területére tévedve történik. Ekkor az újonnan beszúródó alakzat rajta lesz a korábbin, és fedi azt.</li>
			</ul>
			<li>Az egér bal fülét ha viszont már létező alakzaton nyomod le, akkor a felengedés helyétől függően a szóbanforgó már meglévő alakzat vagy törlődik, vagy pedig arrébmozdul:</li>
			<ul>
				<li>ha ugyanott engeded fel, ahol lenyomtad, és picit sem csusszan közben arrébb az egér, akkor az alakzat törlődik;</li>
				<li>ha meg viszont a lenyomás és a felengedés között kicsit vonszolod is az egeret, akkor az alakzat megmozdul: követi a vonszolódó egérkurzort.</li>
			</ul>
			<li><em>Ütközések</em>: a rendszer automatikusan észleli őket, az ütközö alakat automatikusan megáll az utolsó még-nem-ütközött fázisában, és &bdquo;leválik&rdquo; a vonszoló egérről.</li>
			<ul>
				<li>&bdquo;Mágneses ragadás&rdquo; még nincs.</li>
				<li>Az ütközésérzeklés primitív volta miatt a gyorsan vonszolt alakzat ütközés előtt oly fázisban áll meg, amely még akár jelentős távolságra is lehet az &bdquo;ütközőfaltól&rdquo;. Ez a &bdquo;visszapattanó&rdquo; hatás javítható a közeljövőben (az ütközőalgoritmus keresőalgoritmussal való kombinálásával).</li>
				<li>Ha új alakzatot úgy hozunk létre, hogy az egy másik alakzattal eleve eleve ütközési pozícióban jön létre (pl. a belsejében), akkor mindkét alakzat onnantól kezdve mozdíthatatlanná válik, mindaddig, míg az egyiket ki nem töröljük. Ez az ütközésérzékelés logikus következménye. Ez automatikusan megoldódik, amikor szoba- és bútorobjektumokat fogunk megkülönböztetni: a szobákra &bdquo;külső&rdquo;, a bútorokra pedig &bdquo;belső&rdquo; ütközési szabályok fognak elkülönülni.</li>
			</ul>
		</ul>

		<h2>Kezelőparancs-felület</h2>
		<label for="sampleFigureBank">A következő beszúrható alakzatforma:</label>
		<select id="sampleFigureBank">
		</select>

		<h2>Vászon</h2>
		<svg id="svgRoot" width="600" height="400"></svg>
	</body>
</html>
